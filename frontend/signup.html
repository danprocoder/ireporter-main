<!DOCTYPE html>
<html>
<head>
	<title>Sign Up | iReporter</title>

	<link rel="stylesheet" type="text/css" href="assets/css/ireporter.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/navbar1.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/a.css" />
</head>
<body>
	<div class="red-bg">
		<div class="container">
			<div id="navbar">
				<a href="/" class="sitename">iReporter</a>
				<div class="navbar-menu">
					<ul>
						<li><a href="/login">Log In</a></li>
						<li><a href="/signup">Sign Up</a></li>
					</ul>
				</div>
				<div class="clearfix"></div>
			</div>
		</div>
	</div>
	<div>
		<form role="form" class="signup" id="signup-form" onsubmit="submitForm(event)" method="post">
			<div class="header-container t-center">
				<div class="header">Sign Up</div>
				<small class="info">All fields are required</small>
			</div>
			<div class="padding">
				<div class="field-section grid-container">
					<div class="grid-50">
						<label>Your Firstname</label>
						<input type="text" name="firstname" class="text-field" />
					</div>
					<div class="grid-50">
						<label>Your Lastname</label>
						<input type="text" name="lastname" class="text-field" />
					</div>
					<div class="clearfix"></div>
				</div>
				<div class="field-section grid-container">
					<div class="grid-50">
						<label>Your Email</label>
						<input type="text" name="email" class="text-field" />
					</div>
					<div class="grid-50">
						<label>Your Mobile Number</label>
						<input type="text" name="mobile" class="text-field" />
					</div>
					<div class="clearfix"></div>
				</div>
				<div class="field-section grid-container">
					<div class="grid-50">
						<label>Your Password</label>
						<input type="password" name="password" class="text-field" />
					</div>
					<div class="grid-50">
						<label>Re-enter Password</label>
						<input type="password" name="password2" class="text-field" />
					</div>
					<div class="clearfix"></div>
				</div>
				<div class="field-section">
					<input type="submit" class="button" value="Sign Up" />
				</div>
			</div>
		</form>
	</div>
	<script>
	function submitForm(event) {
		var form = document.getElementById('signup-form').elements;

		fetch('/api/v1/user/new', {
			method: 'POST',
			headers: {
				'Content-Type': 'application/json'
			},
			body: JSON.stringify({
				firstname: form['firstname'].value,
				lastname: form['lastname'].value,
				email: form['email'].value,
				mobile: form['mobile'].value,
				password: form['password'].value,
				password2: form['password2'].value
			})
		}).then(res => {
			return res.json();
		}).then(function(data) {
			console.log(data);
		});

		event.preventDefault();
	}
	</script>
</body>
</html>