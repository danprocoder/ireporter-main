<!DOCTYPE html>
<html>
<head>
	<title>Profile | iReporter</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<link rel="stylesheet" type="text/css" href="assets/css/ireporter.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/navbar2.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/font-awesome.min.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/user.css" />
	<link rel="stylesheet" type="text/css" href="assets/css/profile.css" />

	<script src="assets/js/ireporter.js"></script>
	<script src="assets/js/api.js"></script>
	<script src="assets/js/app.js"></script>
	<script src="assets/js/nav.js"></script>
	<script>
	function loadIncidents(type) {
	  app.preloader(`${type}s`).showLoadingAnimation();

	  app.http.api(`${type}s`).get((data) => {
	  	app.table(`${type}s-table`).setDataSet(data).draw();

	  	app.preloader(`${type}s`).hideLoadingAnimation();
	  }, (error) => {
	  	app.toast.error('Failed to load ' + type);
	  });
	}
	</script>
	<script>
	app.setAuthRequired(true);
	app.ready((http, dom) => {
	  dom.selector('.auth-logout').click(app.logout);

	  const user = app.auth();
	  dom.selector('.js-text-name').html(user.firstname + ' ' + user.lastname);
	  dom.selector('.js-text-email').html(user.email);
	  dom.selector('.js-text-mobile').html(user.phoneNumber);

	  // Load red-flags by default.
	  loadIncidents('red-flag');

	  $('incident-tab').onTabChanged((index) => {
	  	const selected = ['red-flag', 'intervention'][index];

	  	loadIncidents(selected);
	  });
	});
	app.start();
	</script>
</head>
<body>
	<div class="red-bg">
		<div id="navbar">
			<div class="container">
				<a href="dashboard.html" class="sitename">iReporter</a>
				<div class="navbar-menu">
					<ul>
						<li><a href="red-flags.html">Red Flags</a></li>
						<li><a href="interventions.html">Interventions</a></li>
						<li class="dropdown">
							<a href="#">Account <i class="fa fa-caret-down"></i></a>
							<ul class="dropdown-menu">
								<li><a href="profile.html">My Profile</a></li>
								<li><a href="#" class="auth-logout">Log out</a></li>
							</ul>
						</li>
					</ul>
				</div>
				<button class="nav-toggle-responsive"><i class="fa fa-bars"></i></button>
				<div class="clearfix"></div>
			</div>
		</div>
	</div>
	<div>
		<div class="user-bio">
			<div class="container">
				<div class="name js-text-name"></div>
				<div class="meta">
					<span class="meta-data"><i class="fa fa-at"></i> <span class="js-text-email"></span></span>
					<span class="meta-data"><i class="fa fa-phone"></i> <span class="js-text-mobile"></span></span>
				</div>
			</div>
		</div>
		<div class="container">
			<div>
				<div class="counters">
					<div class="grid-container">
						<div class="grid-50">
							<div class="header">Red Flags<span class="f-right">2.7k</span></div>
							<div class="body">
								<div class="counter in-draft">
									<div class="num">...</div>
									<div class="text">In Draft</div>
								</div>
								<div class="counter resolved">
									<div class="num">...</div>
									<div class="text">Resolved</div>
								</div>	
								<div class="counter rejected">
									<div class="num">...</div>
									<div class="text">Rejected</div>
								</div>	
								<div class="clearfix"></div>
							</div>	
						</div>
						<div class="grid-50">
							<div class="header">Interventions<span class="f-right">2.7k</span></div>
							<div class="body">
								<div class="counter in-draft">
									<div class="num">...</div>
									<div class="text">In Draft</div>
								</div>
								<div class="counter resolved">
									<div class="num">...</div>
									<div class="text">Resolved</div>
								</div>
								<div class="counter rejected">
									<div class="num">...</div>
									<div class="text">Rejected</div>
								</div>
								<div class="clearfix"></div>
							</div>	
						</div>
						<div class="clearfix"></div>
					</div>
				</div>

				<div class="tab-container" id="incident-tab">

					<div class="tab-wrapper">
						<ul class="tab">
							<li class="active"><a href="#">Red Flag</a></li>
							<li><a href="#">Intervention</a></li>
						</ul>
					</div>

					<div class="tab-content">

						<!-- Red flags tab -->
						<div class="tab-pane preload" id="red-flags">
							<div class="loader"><i class="fa fa-ellipsis-h fa-2x"></i></div>
							<div class="table-wrapper on-load">
								<table>
									<thead>
										<th>#</th>
										<th>Title</th>
										<th>Created At</th>
										<th>Status</th>
										<th>Action</th>
									</thead>
									<tbody>
										<tr>
											<td>1</td>
											<td>Snake ate &#8358;10m</td>
											<td>11:08:45 11-12-2018</td>
											<td><span class="record-status pending no-select">IN DRAFT</span></td>
											<td>
												<a href="view-red-flag.html" class="action blue"><i class="fa fa-eye"></i> View</a>
												<a href="#" class="action blue"><i class="fa fa-pencil"></i> Edit</a>
												<a href="#" class="action red"><i class="fa fa-trash"></i> Delete</a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>

						<!-- Interventions tab -->
						<div class="tab-pane preload" id="interventions">
							<div class="loader"><i class="fa fa-ellipsis-h fa-2x"></i></div>
							<div class="table-wrapper on-load">
								<table>
									<thead>
										<th>#</th>
										<th>Title</th>
										<th>Created At</th>
										<th>Status</th>
										<th>Action</th>
									</thead>
									<tbody>
										<tr>
											<td>1</td>
											<td>Snake ate &#8358;10m</td>
											<td>11:08:45 11-12-2018</td>
											<td><span class="record-status pending no-select">IN DRAFT</span></td>
											<td>
												<a href="view-red-flag.html" class="action blue"><i class="fa fa-eye"></i> View</a>
												<a href="#" class="action blue"><i class="fa fa-pencil"></i> Edit</a>
												<a href="#" class="action red"><i class="fa fa-trash"></i> Delete</a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>

					</div> <!-- End of tab content. -->

				</div> <!-- End of tab container. -->

			</div>
		</div>
	</div>
</body>
</html>